(function(e){function t(t){for(var a,o,s=t[0],i=t[1],u=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&d.push(l[o][0]),l[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var i=r[s];0!==l[i]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},l={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=i;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"039a":function(e,t,r){"use strict";r("7174")},"56d7":function(e,t,r){"use strict";r.r(t);r("e623"),r("e379"),r("5dc8"),r("37e1");var a=r("2b0e"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],o=(r("034f"),r("2877")),s={},i=Object(o["a"])(s,l,n,!1,null,null,null),u=i.exports,c=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"loginbox"},[r("el-form",{ref:"loginFormRef",attrs:{model:e.loginForm,"label-width":"0px"}},[r("el-form-item",[r("el-input",{attrs:{"prefix-icon":"el-icon-search"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),r("el-form-item",[r("el-input",{attrs:{type:"password","prefix-icon":"el-icon-search"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v(" 登录 ")]),r("el-button",{attrs:{type:"info"}},[e._v(" 重置 ")])],1)],1)],1)])},d=[],f={data:function(){return{loginForm:{name:"www",password:"123456"}}},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate((function(t){if(!t)return{};e.$router.push("/home")}))}}},m=f,b=(r("039a"),Object(o["a"])(m,p,d,!1,null,null,null)),g=b.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"logSpan"},[e._v("日志查询")]),r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.querryInfo},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSearch.apply(null,arguments)}}},[r("div",{staticStyle:{width:"90%",margin:"0 20%",display:"flex","flex-wrap":"nowrap"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"客户编码："}},[r("el-input",{attrs:{placeholder:"请输入客户编码"},model:{value:e.querryInfo.customerId,callback:function(t){e.$set(e.querryInfo,"customerId",t)},expression:"querryInfo.customerId "}})],1)],1)]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"客户名称："}},[r("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.querryInfo.customerName,callback:function(t){e.$set(e.querryInfo,"customerName",t)},expression:"querryInfo.customerName"}})],1)],1)]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"accesskey："}},[r("el-input",{attrs:{placeholder:"请输入accesskey"},model:{value:e.querryInfo.accesskey,callback:function(t){e.$set(e.querryInfo,"accesskey",t)},expression:"querryInfo.accesskey"}})],1)],1)]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"操作对象："}},[r("el-input",{attrs:{placeholder:"请输入操作对象"},model:{value:e.querryInfo.object,callback:function(t){e.$set(e.querryInfo,"object",t)},expression:"querryInfo.object"}})],1)],1)]),r("el-col",{attrs:{span:1,offset:.8}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",[r("el-button",{staticStyle:{position:"relative",top:"40px",visibility:"hidden"},attrs:{type:"primary"}})],1)],1)])],1)],1),r("div",{staticStyle:{width:"90%",margin:"0 20%",display:"flex","flex-wrap":"nowrap"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"模块：","label-width":"70px"}},[r("el-input",{staticStyle:{"text-indent":"0em"},attrs:{placeholder:"请输入模块"},model:{value:e.querryInfo.module,callback:function(t){e.$set(e.querryInfo,"module",t)},expression:"querryInfo.module"}})],1)],1)]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{staticStyle:{"text-indent":"1em"},attrs:{label:"调用链："}},[r("el-input",{staticStyle:{"text-indent":"0em"},attrs:{placeholder:"请输入调用链"},model:{value:e.querryInfo.traceId,callback:function(t){e.$set(e.querryInfo,"traceId",t)},expression:"querryInfo.traceId"}})],1)],1)]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("div",{staticClass:"el-form-item"},[r("label",{staticClass:"el-form-item__label demonstration"},[e._v("开始时间：")]),r("el-date-picker",{staticStyle:{"margin-right":"20px",width:"204px","":":before"},attrs:{type:"datetime",placeholder:"请选择开始时间"},model:{value:e.querryInfo.begin,callback:function(t){e.$set(e.querryInfo,"begin",t)},expression:"querryInfo.begin"}})],1)])]),r("el-col",{attrs:{span:4}},[r("div",{staticClass:"grid-content bg-purple"},[r("div",{staticClass:"el-form-item"},[r("label",{staticClass:"el-form-item__label demonstration"},[e._v("结束时间：")]),r("el-date-picker",{staticStyle:{"margin-right":"20px",width:"204px","":":before"},attrs:{type:"datetime",placeholder:"请选择结束时间"},model:{value:e.querryInfo.end,callback:function(t){e.$set(e.querryInfo,"end",t)},expression:"querryInfo.end"}})],1)])]),r("el-col",{attrs:{span:1,offset:.8}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",[r("el-button",{staticStyle:{position:"relative",top:"40px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)])],1)],1)]),r("div",{staticClass:"tabelArea"},[r("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"","cell-class-name":e.cell},on:{"expand-change":e.letScroll,"row-dblclick":e.clickTable}},[r("el-table-column",{attrs:{type:"index"}}),e._v(" "),r("el-table-column",{attrs:{prop:"traceId",label:"调用链",width:"280"}}),r("el-table-column",{attrs:{prop:"customerId",label:"客户编码",width:"240"}}),r("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:"200","show-overflow-tooltip":!0}}),r("el-table-column",{attrs:{prop:"object",label:"操作对象",width:"180"}}),r("el-table-column",{attrs:{prop:"begin",label:"开始时间",width:"200"}}),r("el-table-column",{attrs:{prop:"spendMS",label:"时延(ms)",width:"85"}}),r("el-table-column",{attrs:{prop:"status",label:"响应状态码",width:"95"}}),r("el-table-column",{attrs:{prop:"module",label:"模块",width:"110"}}),r("el-table-column",{attrs:{prop:"url",label:"请求url"}}),r("el-table-column",{attrs:{label:"详情",type:"expand",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"客户accesskey:"}},[r("span",[e._v(e._s(t.row.accesskey))])]),r("el-form-item",{attrs:{label:"tonce:"}},[r("span",[e._v(e._s(t.row.tonce))])]),r("el-form-item",{attrs:{label:"客户名称:"}},[r("span",[e._v(e._s(t.row.customerName))])]),r("el-form-item",{attrs:{label:"userAgent:"}},[r("span",[e._v(e._s(t.row.userAgent))])]),r("el-form-item",{attrs:{label:"客户编码:"}},[r("span",[e._v(e._s(t.row.customerId))])]),r("el-form-item",{attrs:{label:"请求ip:"}},[r("span",[e._v(e._s(t.row.userId))])]),r("el-form-item",{attrs:{label:"http请求方式:"}},[r("span",[e._v(e._s(t.row.httpMethod))])]),r("div",{staticClass:"oneline"},[r("el-form-item",{attrs:{label:"请求的url:"}},[r("span",[e._v(e._s(t.row.url))])])],1),r("div",{staticClass:"oneline"},[r("el-form-item",{attrs:{label:"请求体:"}},[r("span",[e._v(e._s(t.row.request))])])],1),r("div",{staticClass:"oneline"},[r("el-form-item",{attrs:{label:"响应参数:"}},[r("span",[e._v(e._s(t.row.responseMessage))])])],1)],1)],1)]}}])})],1)],1),r("el-pagination",{staticStyle:{padding:"20px 5px"},attrs:{"current-page":e.querryInfo.pageNo,"page-sizes":[5,10,15,20],"page-size":e.querryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},y=[],v=(r("ac1f"),r("5319"),r("a9e3"),{data:function(){return{quer:{pageNo:1,pageSize:10},querryInfo:{customerId:"",customerName:"",accesskey:"",object:"",module:"",traceId:"",pageNo:1,pageSize:10,begin:"",end:""},totalCount:0,pathapi:"/api/log_api/list",tableData:[{traceId:"",request:"",customerId:"",customerName:"",object:"",begin:0,spendMS:0,status:0,module:"",url:"",responseMessage:""}]}},created:function(){this.getList()},methods:{onSubmit:function(){for(var e in this.querryInfo.pageNo=1,this.querryInfo.pageSize=10,this.querryInfo.begin=new Date(this.querryInfo.begin).getTime(),this.querryInfo.end=new Date(this.querryInfo.end).getTime(),this.quer={pageNo:1,pageSize:10},this.querryInfo)this.querryInfo[e]&&(this.quer[e]=this.querryInfo[e]);this.getList(this.pathapi)},enterSearch:function(e){e=e||window.event,13===e.keyCode&&this.onSubmit()},getList:function(e){var t=this;this.$http.get(this.pathapi,{params:this.quer}).then((function(e){t.tableData=e.data.result.results,t.totalCount=e.data.result.totalCount;for(var r=0;r<t.tableData.length;r++)t.tableData[r].request=t.tableData[r].request.replace(/(^"*)|("*$)/g,""),t.tableData[r].responseMessage=e.data.result.results[r].response,t.tableData[r].begin=t.timestampToTime(Number(e.data.result.results[r].beginMs))})).catch((function(e){console.log(e)}))},timestampToTime:function(e){var t=new Date(e),r=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",l=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",n=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",o=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),i=r+a+l+n+o+s,u=new Date(i).getTime(),c=e-u;return i+="."+c,i},cell:function(e){var t=e.row,r=(e.colum,e.rowIndex),a=e.columnIndex;if(10===a)return t.index=r,"info"+r},letScroll:function(e){var t=document.getElementsByClassName("info"+e.index)[0];this.$nextTick((function(){window.scrollTo({top:t.offsetTop+300,behavior:"smooth"})}))},clickTable:function(e,t,r){this.$refs.refTable.toggleRowExpansion(e)},handleSizeChange:function(e){this.quer.pageSize=e,this.querryInfo.pageSize=e,this.getList(this.pathapi)},handleCurrentChange:function(e){this.quer.pageNo=e,this.querryInfo.pageNo=e,this.getList(this.pathapi)}}}),w=v,I=(r("7df3"),Object(o["a"])(w,h,y,!1,null,null,null)),x=I.exports;a["default"].use(c["a"]);var q=[{path:"/login",component:g},{path:"/",redirect:"/home"},{path:"/home",component:x}],_=new c["a"]({routes:q}),S=_,C=r("5c96");a["default"].use(C["Button"]),a["default"].use(C["Form"]),a["default"].use(C["FormItem"]),a["default"].use(C["Input"]),a["default"].use(C["Select"]),a["default"].use(C["Option"]),a["default"].use(C["Table"]),a["default"].use(C["TableColumn"]),a["default"].use(C["Pagination"]),a["default"].use(C["DatePicker"]),a["default"].use(C["Row"]),a["default"].use(C["Col"]);r("0fae"),r("aede");var k=r("bc3a"),$=r.n(k);a["default"].prototype.$http=$.a,$.a.defaults.baseUR="",a["default"].config.productionTip=!1,new a["default"]({router:S,render:function(e){return e(u)}}).$mount("#app")},"5c4c":function(e,t,r){},7174:function(e,t,r){},"7df3":function(e,t,r){"use strict";r("5c4c")},"85ec":function(e,t,r){},aede:function(e,t,r){}});
//# sourceMappingURL=app.21a0355b.js.map